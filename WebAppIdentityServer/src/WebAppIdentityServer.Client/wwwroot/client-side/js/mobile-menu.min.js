!function (s) { "use strict"; s.fn.mobileMenu = function (e) { var a = { MenuWidth: 250, SlideSpeed: 300, WindowsMaxWidth: 767, PagePush: !0, FromLeft: !0, Overlay: !0, CollapseMenu: !0, ClassName: "mobile-menu" }; return this.each(function () { function i() { var e = 0, a = s(document).height(); return d.find("." + m + " > li").each(function () { var a = s(this).height(); e += a }), a >= e && (e = a), e } function n(e) { r = s("." + m + " span.expand").height(), 1 === e && d.find("." + m + " > li:has(span)").each(function () { var e = (s(this).height() - r) / 2; s(this).find("span").css({ "padding-bottom": e, "padding-top": e }) }), 2 === e && d.find("." + m + " > li > ul > li:has(span)").each(function () { var e = (s(this).height() - r) / 2; s(this).find("span").css({ "padding-bottom": e, "padding-top": e }) }) } function l() { 1 == t.FromLeft ? (1 == t.PagePush && f.animate({ left: "0" }, t.SlideSpeed, "linear"), d.animate({ left: -t.MenuWidth }, t.SlideSpeed, "linear", function () { o.removeClass("mmPushBody"), h.css("height", 0).removeClass("overlay"), d.css("display", "none"), u = !1 })) : (1 == t.PagePush && f.animate({ left: "0" }, t.SlideSpeed, "linear"), d.animate({ right: -t.MenuWidth }, t.SlideSpeed, "linear", function () { o.removeClass("mmPushBody"), h.css("height", 0).removeClass("overlay"), d.css("display", "none"), u = !1 })) } var t = s.extend({}, a, e), d = s(this), h = s("#overlay"), o = s("body"), f = s("#page"), u = !1, p = !1, c = !1, r = 0, m = ""; 1 == t.FromLeft ? d.css("left", -t.MenuWidth) : d.css("right", -t.MenuWidth), d.find("ul:first").addClass(t.ClassName), m = t.ClassName, d.css("width", t.MenuWidth), d.find("." + m + " ul").css("display", "none"), d.find("li ul").parent().prepend('<span class="expand fa fa-plus"></span>'), s("." + m).append('<li style="height: 30px;"></li>'), s("." + m + " li:has(span)").each(function () { s(this).find("a:first").css("padding-right", 55) }), s(".mm-toggle").click(function () { d.css("height", s(document).height()), 1 == t.Overlay && h.css("height", s(document).height()), u ? l() : (o.addClass("mmPushBody"), 1 == t.Overlay ? h.addClass("overlay") : h.addClass("overlay").css("opacity", 0), d.css({ display: "block", overflow: "hidden" }), 1 == t.FromLeft ? (1 == t.PagePush && f.animate({ left: t.MenuWidth }, t.SlideSpeed, "linear"), d.animate({ left: "0" }, t.SlideSpeed, "linear", function () { d.css("height", i()), u = !0 })) : (1 == t.PagePush && f.animate({ left: -t.MenuWidth }, t.SlideSpeed, "linear"), d.animate({ right: "0" }, t.SlideSpeed, "linear", function () { d.css("height", i()), u = !0 })), p || (n(1), p = !0)) }), s(window).resize(function () { s(window).width() >= t.WindowsMaxWidth && u && d.css("left") != -t.MenuWidth && l() }), s("." + m + " > li > span.expand").click(function () { if (1 == t.CollapseMenu) { var e = s("." + m + " li span"); e.hasClass("open") && "none" === s(this).next().next().css("display") && (s("." + m + " li ul").slideUp(), e.hasClass("open") ? e.removeClass("fa fa-minus").addClass("fa fa-plus") : e.removeClass("fa fa-plus").addClass("fa fa-minus"), e.removeClass("open")) } s(this).nextAll("." + m + " ul").slideToggle(function () { 1 == t.CollapseMenu ? s(this).promise().done(function () { d.css("height", i()) }) : d.css("height", i()) }), s(this).hasClass("fa fa-plus") ? s(this).removeClass("fa fa-plus").addClass("fa fa-minus") : s(this).removeClass("fa fa-minus").addClass("fa fa-plus"), s(this).toggleClass("open"), c || (n(2), c = !0) }), s("." + m + " > li > ul > li > span.expand").click(function () { if (1 == t.CollapseMenu) { var e = s("." + m + " li ul li span"); e.hasClass("open") && "none" === s(this).next().next().css("display") && (s("." + m + " li ul ul").slideUp(), e.hasClass("open") ? e.removeClass("fa fa-minus").addClass("fa fa-plus") : e.removeClass("fa fa-plus").addClass("fa fa-minus"), e.removeClass("open")) } s(this).nextAll("." + m + " ul ul").slideToggle(function () { 1 == t.CollapseMenu ? s(this).promise().done(function () { d.css("height", i()) }) : d.css("height", i()) }), s(this).hasClass("fa fa-plus") ? s(this).removeClass("fa fa-plus").addClass("fa fa-minus") : s(this).removeClass("fa fa-minus").addClass("fa fa-plus"), s(this).toggleClass("open") }), s("." + m + " li a").click(function () { s("." + m + " li a").removeClass("active"), s(this).addClass("active"), l() }), h.click(function () { l() }), s("." + m + " li a.active").parent().children(".expand").removeClass("fa fa-plus").addClass("fa fa-minus open"), s("." + m + " li a.active").parent().children("ul").css("display", "block") }) } }(jQuery);